<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="../../../../framework/fss/css/fss-reset-global.css" />
        <link rel="stylesheet" type="text/css" href="../../../../framework/fss/css/fss-base-global.css" />
        <link rel="stylesheet" type="text/css" href="../../css/examples.css" />
        
        <script type="text/javascript" src="../../../../lib/jquery/core/js/jquery.js"></script>
        <script type="text/javascript" src="../../../../framework/core/js/Fluid.js"></script>
        <script type="text/javascript" src="../../../../framework/core/js/FluidDocument.js"></script>
        <script type="text/javascript" src="../../../../framework/core/js/FluidDOMUtilities.js"></script>
        <script type="text/javascript" src="../../../../framework/core/js/FluidView.js"></script>
        <script type="text/javascript" src="../../../../framework/core/js/DataBinding.js"></script>
        <script type="text/javascript" src="../../../../framework/core/js/FluidRequests.js"></script>
        <script type="text/javascript" src="../../../../lib/fastXmlPull/js/fastXmlPull.js"></script>
        <script type="text/javascript" src="../../../../framework/renderer/js/fluidParser.js"></script>
        <script type="text/javascript" src="../../../../framework/renderer/js/fluidRenderer.js"></script>
        <script type="text/javascript" src="../../../../framework/renderer/js/RendererUtilities.js"></script>
        <script type="text/javascript" src="../../../../framework/core/js/FluidIoC.js"></script>

        <script type="text/javascript">
            var demo = demo || {};
            
            (function ($) {
                
                fluid.defaults("demo.checkboxRenderer", {
                    gradeNames: ["fluid.rendererComponent", "autoInit"],
            
                    selectors: {
                        checkboxRow: ".democ-checkboxes-checkbox",
                        box: ".democ-checkboxes-box",
                        checkboxLabel: ".democ-checkboxes-label"
                    },
                    repeatingSelectors: ["checkboxRow"],

                    model: {
                        checkboxes: {
                            selection: ["opt2", "opt3"],
                            choices: ["opt1", "opt2", "opt3", "opt4"],
                            names: ["Option 1", "Option 2", "Option 3", "Option 4"]
                        }
                    },

                    produceTree: "demo.checkboxRenderer.produceTree",

                    renderOnInit: true
                });
            
                demo.checkboxRenderer.produceTree = function (that) {
                    var tree = {
                        "expander": {
                            "type": "fluid.renderer.selection.inputs",
                            "rowID": "checkboxRow",
                            "labelID": "checkboxLabel",
                            "inputID": "box",
                            "selectID": "checkboxes",
                            "tree": {
                                "selection": "${checkboxes.selection}",
                                "optionlist": "${checkboxes.choices}",
                                "optionnames": "${checkboxes.names}"
                            }
                        }
                    };
                    return tree;
                };
                
            })(jQuery);
        </script>
    </head>
    <body>
        <div class="democ-checkboxes-buttons">
            <div class="fl-focus">
                <span class="democ-checkboxes-checkbox">
                    <label for="checkboxid" class="democ-checkboxes-label">label</label> 
                    <input type="checkbox" id="checkboxid" class="democ-checkboxes-box" />
                </span>
            </div>
        </div>
        <script type="text/javascript">
            demo.checkboxRenderer(".democ-checkboxes-buttons");
        </script>
    </body>
</html>